{"version":3,"sources":["../../src/client/client.js"],"names":["Client","config","clientConfig","DEFAULT_CONFIG","offsitePaymentInitializer","OffsitePaymentInitializer","create","paymentSubmitter","PaymentSubmitter","clientTokenGenerator","ClientTokenGenerator","storeRequestSender","StoreRequestSender","host","data","callback","initializeOffsitePayment","submitPayment","generateClientToken","loadInstruments","loadInstrumentsWithAddress","deleteShopperInstrument"],"mappings":";;;;;;;;AAAA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;;;;;IAEqBA,M;;;;AACjB;;;;2BAIcC,M,EAAQ;AAClB,UAAMC,eAAe,4BAAa,EAAb,EAAiBC,uBAAjB,EAAiCF,MAAjC,CAArB;AACA,UAAMG,4BAA4BC,oCAA0BC,MAA1B,CAAiCJ,YAAjC,CAAlC;AACA,UAAMK,mBAAmBC,2BAAiBF,MAAjB,CAAwBJ,YAAxB,CAAzB;AACA,UAAMO,uBAAuBC,+BAAqBJ,MAArB,CAA4BJ,YAA5B,CAA7B;AACA,UAAMS,qBAAqBC,6BAAmBN,MAAnB,CAA0BJ,YAA1B,CAA3B;;AAEA,aAAO,IAAIF,MAAJ,CACHE,YADG,EAEHK,gBAFG,EAGHH,yBAHG,EAIHK,oBAJG,EAKHE,kBALG,CAAP;AAOH;;AAED;;;;;;;;;;AAOA,kBACIV,MADJ,EAEIM,gBAFJ,EAGIH,yBAHJ,EAIIK,oBAJJ,EAKIE,kBALJ,EAME;AAAA;;AACE;;;;AAIA,SAAKV,MAAL,GAAcA,MAAd;;AAEA;;;;AAIA,SAAKM,gBAAL,GAAwBA,gBAAxB;;AAEA;;;;AAIA,SAAKH,yBAAL,GAAiCA,yBAAjC;;AAEA;;;;AAIA,SAAKK,oBAAL,GAA4BA,oBAA5B;;AAEA;;;;AAIA,SAAKE,kBAAL,GAA0BA,kBAA1B;AACH;;AAED;;;;;;;;4BAIQE,I,EAAM;AACV,WAAKZ,MAAL,CAAYY,IAAZ,GAAmBA,IAAnB;AACH;;AAED;;;;;;;;6CAKyBC,I,EAAMC,Q,EAAU;AACrC,WAAKX,yBAAL,CAA+BY,wBAA/B,CAAwDF,IAAxD,EAA8DC,QAA9D;AACH;;AAED;;;;;;;;kCAKcD,I,EAAMC,Q,EAAU;AAC1B,WAAKR,gBAAL,CAAsBU,aAAtB,CAAoCH,IAApC,EAA0CC,QAA1C;AACH;;AAED;;;;;;;;wCAKoBD,I,EAAMC,Q,EAAU;AAChC,WAAKN,oBAAL,CAA0BS,mBAA1B,CAA8CJ,IAA9C,EAAoDC,QAApD;AACH;;AAED;;;;;;;;;;;oCAQgBD,I,EAAMC,Q,EAAU;AAC5B,WAAKJ,kBAAL,CAAwBQ,eAAxB,CAAwCL,IAAxC,EAA8CC,QAA9C;AACH;;AAED;;;;;;;;;;;;+CAS2BD,I,EAAMC,Q,EAAU;AACvC,WAAKJ,kBAAL,CAAwBS,0BAAxB,CAAmDN,IAAnD,EAAyDC,QAAzD;AACH;;AAED;;;;;;;;;;;;4CASwBD,I,EAAMC,Q,EAAU;AACpC,WAAKJ,kBAAL,CAAwBU,uBAAxB,CAAgDP,IAAhD,EAAsDC,QAAtD;AACH;;;;;;kBAzIgBf,M","file":"client.js","sourcesContent":["import objectAssign from 'object-assign';\nimport OffsitePaymentInitializer from '../payment/offsite-payment-initializer';\nimport PaymentSubmitter from '../payment/payment-submitter';\nimport ClientTokenGenerator from '../payment/client-token-generator';\nimport StoreRequestSender from '../store/store-request-sender';\nimport DEFAULT_CONFIG from './default-config';\n\nexport default class Client {\n    /**\n     * @param {Object} config\n     * @returns {Client}\n     */\n    static create(config) {\n        const clientConfig = objectAssign({}, DEFAULT_CONFIG, config);\n        const offsitePaymentInitializer = OffsitePaymentInitializer.create(clientConfig);\n        const paymentSubmitter = PaymentSubmitter.create(clientConfig);\n        const clientTokenGenerator = ClientTokenGenerator.create(clientConfig);\n        const storeRequestSender = StoreRequestSender.create(clientConfig);\n\n        return new Client(\n            clientConfig,\n            paymentSubmitter,\n            offsitePaymentInitializer,\n            clientTokenGenerator,\n            storeRequestSender\n        );\n    }\n\n    /**\n     * @param {Object} config\n     * @param {PaymentSubmitter} paymentSubmitter\n     * @param {OffsitePaymentInitializer} offsitePaymentInitializer\n     * @param {ClientTokenGenerator} clientTokenGenerator\n     * @param {StoreRequestSender} storeRequestSender\n     */\n    constructor(\n        config,\n        paymentSubmitter,\n        offsitePaymentInitializer,\n        clientTokenGenerator,\n        storeRequestSender\n    ) {\n        /**\n         * @private\n         * @type {Object}\n         */\n        this.config = config;\n\n        /**\n         * @private\n         * @type {PaymentSubmitter}\n         */\n        this.paymentSubmitter = paymentSubmitter;\n\n        /**\n         * @private\n         * @type {OffsitePaymentInitializer}\n         */\n        this.offsitePaymentInitializer = offsitePaymentInitializer;\n\n        /**\n         * @private\n         * @type {ClientTokenGenerator}\n         */\n        this.clientTokenGenerator = clientTokenGenerator;\n\n        /**\n         * @private\n         * @type {StoreRequestSender}\n         */\n        this.storeRequestSender = storeRequestSender;\n    }\n\n    /**\n     * @param {string} host\n     * @returns {void}\n     */\n    setHost(host) {\n        this.config.host = host;\n    }\n\n    /**\n     * @param {PaymentRequestData} data\n     * @param {Function} [callback]\n     * @returns {void}\n     */\n    initializeOffsitePayment(data, callback) {\n        this.offsitePaymentInitializer.initializeOffsitePayment(data, callback);\n    }\n\n    /**\n     * @param {PaymentRequestData} data\n     * @param {Function} [callback]\n     * @returns {void}\n     */\n    submitPayment(data, callback) {\n        this.paymentSubmitter.submitPayment(data, callback);\n    }\n\n    /**\n     * @param {PaymentRequestData} data\n     * @param {Function} [callback]\n     * @returns {void}\n     */\n    generateClientToken(data, callback) {\n        this.clientTokenGenerator.generateClientToken(data, callback);\n    }\n\n    /**\n     * @param {Object} data\n     * @param {string} data.storeId\n     * @param {string} data.customerId\n     * @param {string} data.currencyCode\n     * @param {Function} [callback]\n     * @return {void}\n     */\n    loadInstruments(data, callback) {\n        this.storeRequestSender.loadInstruments(data, callback);\n    }\n\n    /**\n     * @param {Object} data\n     * @param {string} data.storeId\n     * @param {string} data.customerId\n     * @param {string} data.currencyCode\n     * @param {AddressData} data.shippingAddress\n     * @param {Function} [callback]\n     * @return {void}\n     */\n    loadInstrumentsWithAddress(data, callback) {\n        this.storeRequestSender.loadInstrumentsWithAddress(data, callback);\n    }\n\n    /**\n     * @param {Object} data\n     * @param {string} data.storeId\n     * @param {string} data.customerId\n     * @param {string} data.instrumentId\n     * @param {string} data.currencyCode\n     * @param {Function} [callback]\n     * @return {void}\n     */\n    deleteShopperInstrument(data, callback) {\n        this.storeRequestSender.deleteShopperInstrument(data, callback);\n    }\n}\n"]}