{"version":3,"sources":["../../../../src/payment/v1/payment-mappers/payload-mapper.js"],"names":["PayloadMapper","customerMapper","CustomerMapper","create","orderMapper","OrderMapper","paymentMapper","PaymentMapper","storeMapper","StoreMapper","data","order","customer","mapToCustomer","notify_url","callbackUrl","mapToOrder","payment","mapToPayment","store","mapToStore","authToken","Authorization"],"mappings":";;;;;;;;AAAA;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;;;;;IAEqBA,a;;;;AACjB;;;6BAGgB;AACZ,UAAMC,iBAAiBC,yBAAeC,MAAf,EAAvB;AACA,UAAMC,cAAcC,sBAAYF,MAAZ,EAApB;AACA,UAAMG,gBAAgBC,wBAAcJ,MAAd,EAAtB;AACA,UAAMK,cAAcC,sBAAYN,MAAZ,EAApB;;AAEA,aAAO,IAAIH,aAAJ,CAAkBC,cAAlB,EAAkCG,WAAlC,EAA+CE,aAA/C,EAA8DE,WAA9D,CAAP;AACH;;AAED;;;;;;;;;AAMA,yBAAYP,cAAZ,EAA4BG,WAA5B,EAAyCE,aAAzC,EAAwDE,WAAxD,EAAqE;AAAA;;AACjE;;;;AAIA,SAAKP,cAAL,GAAsBA,cAAtB;;AAEA;;;;AAIA,SAAKG,WAAL,GAAmBA,WAAnB;;AAEA;;;;AAIA,SAAKE,aAAL,GAAqBA,aAArB;;AAEA;;;;AAIA,SAAKE,WAAL,GAAmBA,WAAnB;AACH;;AAED;;;;;;;;iCAIaE,I,EAAM;AAAA,wBACQA,IADR,CACPC,KADO;AAAA,UACPA,KADO,+BACC,EADD;;;AAGf,aAAO,oBAAQ;AACXC,kBAAU,KAAKX,cAAL,CAAoBY,aAApB,CAAkCH,IAAlC,CADC;AAEXI,oBAAYH,MAAMI,WAFP;AAGXJ,eAAO,KAAKP,WAAL,CAAiBY,UAAjB,CAA4BN,IAA5B,CAHI;AAIXO,iBAAS,KAAKX,aAAL,CAAmBY,YAAnB,CAAgCR,IAAhC,CAJE;AAKXS,eAAO,KAAKX,WAAL,CAAiBY,UAAjB,CAA4BV,IAA5B;AALI,OAAR,CAAP;AAOH;;AAED;;;;;;;iCAIaA,I,EAAM;AAAA,UACPW,SADO,GACOX,IADP,CACPW,SADO;;;AAGf,aAAO,oBAAQ;AACXC,uBAAeD;AADJ,OAAR,CAAP;AAGH;;;;;;kBAvEgBrB,a","file":"payload-mapper.js","sourcesContent":["import { omitNil } from '../../../common/utils';\nimport CustomerMapper from './customer-mapper';\nimport OrderMapper from './order-mapper';\nimport PaymentMapper from './payment-mapper';\nimport StoreMapper from './store-mapper';\n\nexport default class PayloadMapper {\n    /**\n     * @returns {PayloadMapper}\n     */\n    static create() {\n        const customerMapper = CustomerMapper.create();\n        const orderMapper = OrderMapper.create();\n        const paymentMapper = PaymentMapper.create();\n        const storeMapper = StoreMapper.create();\n\n        return new PayloadMapper(customerMapper, orderMapper, paymentMapper, storeMapper);\n    }\n\n    /**\n     * @param {CustomerMapper} customerMapper\n     * @param {OrderMapper} orderMapper\n     * @param {PaymentMapper} paymentMapper\n     * @param {StoreMapper} storeMapper\n     */\n    constructor(customerMapper, orderMapper, paymentMapper, storeMapper) {\n        /**\n         * @private\n         * @type {CustomerMapper}\n         */\n        this.customerMapper = customerMapper;\n\n        /**\n         * @private\n         * @type {OrderMapper}\n         */\n        this.orderMapper = orderMapper;\n\n        /**\n         * @private\n         * @type {PaymentMapper}\n         */\n        this.paymentMapper = paymentMapper;\n\n        /**\n         * @private\n         * @type {StoreMapper}\n         */\n        this.storeMapper = storeMapper;\n    }\n\n    /**\n     * @param {PaymentRequestData} data\n     * @returns {Object}\n     */\n    mapToPayload(data) {\n        const { order = {} } = data;\n\n        return omitNil({\n            customer: this.customerMapper.mapToCustomer(data),\n            notify_url: order.callbackUrl,\n            order: this.orderMapper.mapToOrder(data),\n            payment: this.paymentMapper.mapToPayment(data),\n            store: this.storeMapper.mapToStore(data),\n        });\n    }\n\n    /**\n     * @param {PaymentRequestData} data\n     * @returns {Object}\n     */\n    mapToHeaders(data) {\n        const { authToken } = data;\n\n        return omitNil({\n            Authorization: authToken,\n        });\n    }\n}\n"]}